import("//build/config/android/rules.gni")

android_library("xwalk_core_internal_java") {
  deps = [
    "//base:base_java",
    "//components/navigation_interception/android:navigation_interception_java",
    "//components/web_contents_delegate_android:web_contents_delegate_android_java",
    "//content/public/android:content_java",
    "//media/base/android:media_java",
    "//net/android:net_java",
    "//ui/android:ui_java",
    "//xwalk/extensions/android:xwalk_core_extensions_java",
    ":xwalk_core_internal_java_resources",
  ]

  java_files = [
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/AndroidProtocolHandler.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/ClientCertLookupTable.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/ClientCertRequestHandlerInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/ClientCertRequestInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/ErrorCodeConversionHelper.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/InMemorySharedPreferences.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/MixedContext.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/PageLoadListener.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/ReflectConstructor.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/ReflectField.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/ReflectMethod.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/SslUtil.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/UrlUtilities.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkAPI.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkAutofillClientAndroid.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkClient.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkContent.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkContentLifecycleNotifier.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkContentVideoViewClient.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkContentView.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkContentsClient.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkContentsClientBridge.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkContentsClientCallbackHelper.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkContentsIoThreadClient.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkCookieManagerInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkCoreBridge.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkDevToolsServer.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkDownloadListenerImpl.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkDownloadListenerInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkExtensionInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkExternalExtensionManagerInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkFindListenerInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkGeolocationPermissions.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkGetBitmapCallbackInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkHttpAuthHandlerInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkHttpAuthInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkInternalResources.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkJavascriptResultHandlerInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkJavascriptResultInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkLaunchScreenManager.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkMediaPlayerResourceLoadingFilter.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkNativeExtensionLoaderInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkNavigationHandler.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkNavigationHandlerImpl.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkNavigationHistoryInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkNavigationItemInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkNotificationService.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkNotificationServiceImpl.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkPathHelper.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkPreferencesInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkPresentationHost.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkResourceClientInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkSettingsInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkSwitches.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkUIClientInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkViewDelegate.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkViewInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkWebChromeClient.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkWebContentsDelegate.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkWebContentsDelegateAdapter.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkWebResourceRequestHandlerInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkWebResourceRequestInternal.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/XWalkWebResourceResponseInternal.java",

    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/BuiltinXWalkExtensions.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/XWalkExtensionWithActivityStateListener.java",

    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/contacts/ContactConstants.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/contacts/ContactEventListener.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/contacts/ContactFinder.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/contacts/ContactJson.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/contacts/ContactSaver.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/contacts/ContactUtils.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/contacts/Contacts.java",

    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/device_capabilities/DeviceCapabilities.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/device_capabilities/DeviceCapabilitiesCPU.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/device_capabilities/DeviceCapabilitiesCodecs.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/device_capabilities/DeviceCapabilitiesDisplay.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/device_capabilities/DeviceCapabilitiesMemory.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/device_capabilities/DeviceCapabilitiesStorage.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/device_capabilities/MediaCodec.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/device_capabilities/MediaCodecNull.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/device_capabilities/XWalkMediaCodec.java",

    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/launchscreen/LaunchScreenExtension.java",

    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/messaging/Messaging.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/messaging/MessagingHelpers.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/messaging/MessagingManager.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/messaging/MessagingSmsConstMaps.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/messaging/MessagingSmsConsts.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/messaging/MessagingSmsManager.java",

    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/presentation/PresentationExtension.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/presentation/PresentationView.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/presentation/PresentationViewJBMR1.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/presentation/PresentationViewNull.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/presentation/XWalkPresentationContent.java",

    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/wifidirect/WifiDirect.java",

    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/DisplayManagerJBMR1.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/DisplayManagerNull.java",
    "//xwalk/runtime/android/core_internal/src/org/xwalk/core/internal/extension/api/XWalkDisplayManager.java",

    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/ClientCertRequestHandlerBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkCookieManagerBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkCoreVersion.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkDownloadListenerBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkExtensionBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkExternalExtensionManagerBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkFindListenerBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkGetBitmapCallbackBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkHttpAuthHandlerBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkJavascriptResultHandlerBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkNativeExtensionLoaderBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkNavigationHistoryBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkNavigationItemBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkPreferencesBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkResourceClientBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkSettingsBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkUIClientBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkViewBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkWebResourceRequestHandlerBridge.java",
    "//xwalk/gen/xwalk_core_reflection_layer/bridge/org/xwalk/core/internal/XWalkWebResourceResponseBridge.java",
  ]
}

java_strings_grd("xwalk_core_strings") {
  grd_file = "strings/android_xwalk_strings.grd"
  outputs = [
    "values/android_xwalk_strings.xml"
  ]
}

android_resources("xwalk_core_internal_java_resources") {
  deps = [
    ":xwalk_core_strings"
  ]
  resource_dirs = [
    "res"
  ]
  custom_package = "org.xwalk.core.internal"
}

generate_jni("xwalk_core_native_jni") {
  jni_package = "xwalk"
  sources = [
    "src/org/xwalk/core/internal/AndroidProtocolHandler.java",
    "src/org/xwalk/core/internal/XWalkAutofillClientAndroid.java",
    "src/org/xwalk/core/internal/XWalkContent.java",
    "src/org/xwalk/core/internal/XWalkContentLifecycleNotifier.java",
    "src/org/xwalk/core/internal/XWalkContentsClientBridge.java",
    "src/org/xwalk/core/internal/XWalkContentsIoThreadClient.java",
    "src/org/xwalk/core/internal/XWalkCookieManagerInternal.java",
    "src/org/xwalk/core/internal/XWalkDevToolsServer.java",
    "src/org/xwalk/core/internal/XWalkHttpAuthHandlerInternal.java",
    "src/org/xwalk/core/internal/XWalkPathHelper.java",
    "src/org/xwalk/core/internal/XWalkPresentationHost.java",
    "src/org/xwalk/core/internal/XWalkSettingsInternal.java",
    "src/org/xwalk/core/internal/XWalkViewDelegate.java",
    "src/org/xwalk/core/internal/XWalkWebContentsDelegate.java",
    "src/org/xwalk/core/internal/XWalkWebResourceResponseInternal.java",
  ]
}
